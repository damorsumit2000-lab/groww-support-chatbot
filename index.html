<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Groww Support Chatbot</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px;
    }
    
    .container {
      width: 100%;
      max-width: 650px;
      height: 90vh;
      background: white;
      border-radius: 15px;
      display: flex;
      flex-direction: column;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }
    
    .header {
      background: #764ba2;
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 15px 15px 0 0;
    }
    
    .header h1 {
      margin: 0;
      font-size: 22px;
    }
    
    .header p {
      margin: 5px 0 0 0;
      font-size: 13px;
      opacity: 0.9;
    }
    
    #chat {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      background: #f5f5f5;
    }
    
    .message {
      margin: 12px 0;
      display: flex;
    }
    
    .message.user {
      justify-content: flex-end;
    }
    
    .bubble {
      max-width: 75%;
      padding: 10px 15px;
      border-radius: 15px;
      line-height: 1.5;
    }
    
    .message.user .bubble {
      background: #667eea;
      color: white;
    }
    
    .message.bot .bubble {
      background: white;
      color: #333;
      border: 1px solid #ddd;
    }
    
    .input-area {
      display: flex;
      padding: 15px;
      background: white;
      border-top: 1px solid #ddd;
      gap: 10px;
    }
    
    #userInput {
      flex: 1;
      padding: 12px 15px;
      border: 2px solid #ddd;
      border-radius: 20px;
      font-size: 14px;
      outline: none;
    }
    
    #userInput:focus {
      border-color: #667eea;
    }
    
    #sendBtn {
      padding: 12px 25px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-weight: bold;
    }
    
    #sendBtn:hover {
      background: #5568d3;
    }
    
    #sendBtn:active {
      transform: scale(0.95);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ðŸ¤– Groww Support Bot</h1>
      <p>Ask me anything about Groww</p>
    </div>
    
    <div id="chat"></div>
    
    <div class="input-area">
      <input type="text" id="userInput" placeholder="Type your question...">
      <button id="sendBtn">Send</button>
    </div>
  </div>

  <script>
    console.log('Script loaded');
    
    const chat = document.getElementById('chat');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');
    
    // Knowledge base
    const knowledge = {
      'redeem': 'To redeem: Open Groww app > Mutual Funds > Dashboard > Select fund > Redeem. Enter amount or Redeem All. Get OTP on phone/email. Confirm. Money in bank within 3-4 working days.',
      'market timing': 'Market Timings: Stocks 9:15 AM - 3:30 PM. Commodity timings at https://groww.in/p/commodity-market-timing',
      'withdraw': 'Instant withdrawal: 9:30 AM - 4:00 PM. After 4 PM processed next day. Check: Groww app > profile > wallet > all transactions',
      'ipo': 'IPO allotment is lottery basis. If not allotted, amount unblocked before mandate end date. Check mandate end date in UPI app.',
      'sip cancel': 'SIP cancellation takes 7 working days. Can restart SIP after 7 days.',
      'settlement': 'Stock settlement takes T+1 working day. Amount settled by 10 PM in Groww balance.',
      'btst': 'BTST (Buy Today Sell Tomorrow) amount released by 9 PM same day. Can withdraw by 10 AM next day.',
      'wallet': 'Check wallet: Groww app > profile > wallet > all transactions',
      'delete account': 'Account deletion within 24-48 hours. Can create new account with same PAN/email/mobile after deletion.',
      'upper circuit': 'Upper circuit means no sellers available, only buyers. Buy order executes once share out of upper circuit.',
      'deposit failed': 'Try different payment method. If amount deducted, refund within 4-5 working days.',
      'support': 'Contact Groww Support: +91-9108800000 (Available 24/7)',
      'rekyc': 'Complete ReKYC from: https://groww.in/onboarding/data-collection?context=REKYC (Click after 1 hour). Can invest in MF within 3-4 working days.',
      'commodity': 'Activate commodity: Groww app > FnO > Explore > Activate Commodity. Takes 24-48 hours.',
      'fno': 'FNO deactivation takes 24-48 hours. Pause from: app > profile > Settings > FnO Pause',
      'pledge': 'Pledge takes 24 hours. Unpledge: Profile > Groww Balance > Pledged Balance > Select stock > Unpledge',
      'mtf': 'MTF interest: 14.95% per annum. Up to 80% broker margin based on haircut.',
      'brokerage': 'Stocks: 0.1% or â‚¹20 whichever lower. FNO: â‚¹20 per order. Minimum â‚¹5 per stock order.',
      'negative balance': 'Add money to make balance positive. Charges deducted during settlement can make balance negative.'
    };
    
    function addMsg(type, text) {
      console.log('Adding message:', type, text);
      const msgDiv = document.createElement('div');
      msgDiv.className = 'message ' + type;
      
      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      bubble.textContent = text;
      
      msgDiv.appendChild(bubble);
      chat.appendChild(msgDiv);
      chat.scrollTop = chat.scrollHeight;
    }
    
    function findAnswer(question) {
      const q = question.toLowerCase();
      
      for (let key in knowledge) {
        if (q.includes(key)) {
          return knowledge[key];
        }
      }
      
      return 'I can help with: Redemption, IPO, SIP, Withdrawal, Market Timings, Settlement, BTST, Wallet, Account Delete, Upper Circuit, Commodity, FNO, Pledge, MTF, Brokerage. Or call support: +91-9108800000';
    }
    
    function handleSend() {
      console.log('Send clicked');
      const question = userInput.value.trim();
      
      if (!question) {
        console.log('Empty input');
        return;
      }
      
      console.log('Question:', question);
      addMsg('user', question);
      userInput.value = '';
      
      setTimeout(() => {
        const answer = findAnswer(question);
        addMsg('bot', answer);
      }, 500);
    }
    
    // Welcome message
    addMsg('bot', 'Hello! Ask me about Groww - redemption, IPO, SIP, withdrawal, market timings, and more!');
    
    // Event listeners
    sendBtn.addEventListener('click', function(e) {
      console.log('Button clicked');
      e.preventDefault();
      handleSend();
    });
    
    userInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        handleSend();
      }
    });
    
    // Focus input
    userInput.focus();
    
    console.log('All event listeners attached');
  </script>
</body>
</html>